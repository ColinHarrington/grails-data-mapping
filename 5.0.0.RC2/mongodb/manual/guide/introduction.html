<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>1 Introduction 5.0.0.RC2</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/gettingStarted.html"><strong>2</strong><span>Getting Started</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/objectMapping.html"><strong>3</strong><span>Mapping Domain Classes to MongoDB Collections</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/databaseSwitching.html"><strong>4</strong><span>Switching Database or Collection at Runtime</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/stateless.html"><strong>5</strong><span>Stateless Mode</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/lowLevelApi.html"><strong>6</strong><span>Using the MongoDB Driver Directly</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/transactions.html"><strong>7</strong><span>Transactions</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../guide/testing.html"><strong>8</strong><span>Unit Testing</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p></p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../guide/gettingStarted.html"><strong>2</strong><span>Getting Started</span> >></a></div>
                


                <div class="project">
                    <h1>1 Introduction - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Graeme Rocher, Burt Beckwith</p>

                    <p><strong>Version:</strong> 5.0.0.RC2</p>

                    
                </div>

                
                <div id="table-of-content">
                    <h2>Table of Contents</h2>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#compatibility"><strong>1.1</strong><span>Compatibility with GORM for Hibernate</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#releaseNotes"><strong>1.2</strong><span>Release Notes</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0px"><a href="#upgradeNotes"><strong>1.3</strong><span>Upgrade Notes</span></a>
                    </div>
                    
                </div>
                

                

<h1 id="introduction">1 Introduction</h1>
MongoDB bridges the gap between key-value stores (which are fast and highly scalable) and traditional RDBMS systems (which provide rich queries and deep functionality).<p class="paragraph"/>MongoDB (from "humongous") is a scalable, high-performance, open source, document-oriented database.<p class="paragraph"/>This project aims to provide an object-mapping layer on top of Mongo to ease common activities such as:
<ul class="star">
<li>Marshalling from Mongo to Groovy/Java types and back again</li>
<li>Support for GORM dynamic finders, criteria and named queries</li>
<li>Session-managed transactions</li>
<li>Validating domain instances backed by the Mongo datastore</li>
</ul><p class="paragraph"/>


<h2 id="compatibility">1.1 Compatibility with GORM for Hibernate</h2>
This implementation tries to be as compatible as possible with GORM for Hibernate. In general you can refer to the <a href="http://grails.org/doc/latest/guide/5.%20Object%20Relational%20Mapping%20(GORM).html" target="blank">GORM documentation</a> and the "Domain Classes" section of the <a href="http://grails.org/doc/latest/" target="blank">reference guide</a> (see the right nav) for usage information.<p class="paragraph"/>The following key features are supported by GORM for Mongo:
<ul class="star">
<li>Simple persistence methods</li>
<li>Dynamic finders</li>
<li>Criteria queries</li>
<li>Named queries</li>
<li>Inheritance</li>
<li>Embedded types</li>
<li>Query by example</li>
</ul><p class="paragraph"/>However, some features are not supported:
<ul class="star">
<li>HQL queries</li>
<li>Composite primary keys</li>
<li>Many-to-many associations (these can be modelled with a mapping class)</li>
<li>Any direct interaction with the Hibernate API</li>
<li>Custom Hibernate user types (custom types are allowed with a different API)</li>
</ul><p class="paragraph"/>There may be other limitations not mentioned here so in general it shouldn't be expected that an application based on GORM for Hibernate will "just work" without some tweaking involved. Having said that, the large majority of common GORM functionality is supported.



<h2 id="releaseNotes">1.2 Release Notes</h2>
Below are the details of the changes across releases:<p class="paragraph"/><h4>5.0</h4>
<ul class="star">
<li>MongoDB 3.x driver support</li>
<li>New Codec Persistence Engine</li>
<li>Removal of GMongo</li>
<li>Trait based</li>
</ul><p class="paragraph"/><h4>4.0</h4>
<ul class="star">
<li>Grails 3 compatibility</li>
</ul><p class="paragraph"/><h4>3.0</h4>
<ul class="star">
<li>Support for MongoDB 2.6</li>
<li>MongoDB 2.6 GeoJSON type support (<code>MultiPoint</code>, <code>MultiLineString</code>, <code>MultiPolygon</code> and <code>GeometryCollection</code>)</li>
<li>Support for Maps of embedded entities</li>
<li>Flexible index definition</li>
<li>Full text search support</li>
<li>Support for projections using MongoDB aggregation</li>
<li>Size related criteria implemented (<code>sizeEq</code>, <code>sizeLt</code> etc.) on collections</li>
</ul><p class="paragraph"/><h4>2.0</h4>
<ul class="star">
<li>GeoJSON shape support</li>
<li>Support for SSL connections</li>
<li>Support for MongoDB connection strings</li>
</ul><p class="paragraph"/><h4>1.3</h4>
<ul class="star">
<li>Support for stateless mode to improve read performance</li>
<li>Support for dynamically switching which database or collection to persist to at runtime</li>
</ul><p class="paragraph"/><h4>1.2 </h4><p class="paragraph"/><blockquote class="warning">
MongoDB plugin 1.2 and above requires Grails 2.1.5 or 2.2.1 as a minimum Grails version, if you are using older versions of Grails you will need to stay with 1.1
</blockquote><p class="paragraph"/><h4>1.1 GA</h4>
<ul class="star">
<li>DBRefs no longer used by default for associations</li>
<li>Upgrade to GMongo 1.0 and Spring Data MongoDB 1.1</li>
<li>Support for global mapping configuration</li>
</ul><p class="paragraph"/><h4>1.0 GA</h4>
<ul class="star">
<li>Initial feature complete 1.0 release</li>
</ul><p class="paragraph"/>


<h2 id="upgradeNotes">1.3 Upgrade Notes</h2>
<h4>Configuration Properties</h4><p class="paragraph"/>In previous versions of the plugin configuration was specified using the `grails.mongo` prefix. This is now `grails.mongodb` instead. For example, the following configuration in <code>application.groovy</code> or <code>Config.groovy</code>:<p class="paragraph"/><div class="code"><pre>grails &#123;
    mongo &#123;
        databaseName = 'foo'
    &#125;
&#125;</pre></div><p class="paragraph"/>Should now be expressed as:<p class="paragraph"/><div class="code"><pre>grails &#123;
    mongodb &#123;
        databaseName = 'foo'
    &#125;
&#125;</pre></div><p class="paragraph"/><h4>Persistence Engine</h4><p class="paragraph"/>Since GORM for MongoDB 5.0 there is now a choice of persistence engine. The original GORM for MongoDB converted MongoDB documents to and from Groovy objects. This engine is still present and can be activated with the following configuration in <code>grails-app/conf/application.yml</code>:<p class="paragraph"/><div class="code"><pre>grails:
    mongodb:
        engine: mapping</pre></div><p class="paragraph"/>However, 5.0 and above uses a new engine based on MongoDB 3.x driver codecs which means objects are no longer converted first to MongoDB Document objects and then to Groovy objects, instead the driver reads Groovy objects directly from the JSON stream at the driver level, which is far more efficient, however may not exhibit exactly the same behaviour as the previous version. To active this new engine use the following codec (or leave it blank as the codec engine is now the default):<p class="paragraph"/><div class="code"><pre>grails:
    mongodb:
        engine: codec</pre></div>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item next-right"><a href="../guide/gettingStarted.html"><strong>2</strong><span>Getting Started</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Beans</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Beans/mongo.html">mongo</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Domain Classes</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/DB.html">DB</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/collection.html">collection</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/collectionName.html">collectionName</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/countHits.html">countHits</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/dbo.html">dbo</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findByGeoIntersects.html">findByGeoIntersects</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findByGeoWithin.html">findByGeoWithin</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findByNear.html">findByNear</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findByNearSphere.html">findByNearSphere</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findByWithinBox.html">findByWithinBox</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/findByWithinCircle.html">findByWithinCircle</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/search.html">search</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/searchTop.html">searchTop</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/useCollection.html">useCollection</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/useDatabase.html">useDatabase</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/withCollection.html">withCollection</a>
                            </div>
                            
                            <div class="menu-item"><a href="../ref/Domain%20Classes/withDatabase.html">withDatabase</a>
                            </div>
                            
                            </div>
                    </div>
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">Testing</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../ref/Testing/MongoDbTestMixin.html">MongoDbTestMixin</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
